# OneLog 프로젝트 기획안

## 📋 프로젝트 개요

### 프로젝트 명
**OneLog** - 하루 한 줄, 감정을 기록하는 소셜 블로그 플랫폼

### 한 줄 소개
감정 레벨과 함께 일상을 기록하고 공유하는 감성 중심의 소셜 블로그 서비스

### 기획 의도
- **문제 인식**: 기존 SNS는 화려한 순간만 공유하게 만들어 진정성이 부족함
- **솔루션**: 감정 상태를 5단계로 표현하며 솔직한 일상을 기록하는 공간 제공
- **차별점**: 감정 지표를 시각화하여 자신의 감정 패턴을 파악하고, 같은 감정을 공유하는 사람들과 소통

---

## 🎯 타겟 사용자

### 주요 타겟
1. **20-30대 직장인/학생**
   - 일상의 감정을 기록하고 싶지만 SNS는 부담스러운 사람들
   - 자기 성찰과 감정 관리에 관심 있는 사용자

2. **글쓰기를 좋아하는 사람**
   - 일기 형식의 글을 쓰고 공유하고 싶은 사람
   - 리치 텍스트 에디터로 표현력 있는 글 작성 희망

3. **감정 공감을 원하는 사람**
   - 비슷한 감정 상태의 사람들과 교류하고 싶은 사용자
   - 위로와 공감을 얻고 싶은 사람들

### 사용 시나리오
- **아침**: 출근 전 오늘의 감정 상태를 기록
- **점심**: 다른 사람들의 게시글을 보며 공감하고 댓글로 소통
- **저녁**: 하루를 돌아보며 감정과 함께 일상 기록
- **주말**: 한 주간의 감정 패턴을 확인하고 회고

---

## 🎨 핵심 기능

### 1. 감정 기반 게시글 작성
**기능 설명**
- 게시글 작성 시 5단계 감정 레벨 선택 (1~5)
  - 1: 매우 나쁨 (빨강)
  - 2: 나쁨 (파랑)
  - 3: 보통 (노랑)
  - 4: 좋음 (진한 초록)
  - 5: 매우 좋음 (연한 초록)

**기술 구현**
- TipTap 리치 텍스트 에디터
- 이미지 삽입, 링크, 코드 블록 지원
- 실시간 글자 수 카운트

**사용자 혜택**
- 감정을 시각적으로 표현하여 기록의 맥락 이해
- 나중에 감정 패턴 분석 가능

### 2. 공개/비공개 설정
**기능 설명**
- Public: 모든 사용자에게 공개
- Private: 본인만 볼 수 있는 비공개 글

**기술 구현**
- PostgreSQL Row Level Security (RLS) 정책으로 데이터베이스 레벨 보안
- `access_type` enum 필드

**사용자 혜택**
- 개인적인 감정은 비공개로 보관
- 공유하고 싶은 글은 피드에 공개

### 3. 소셜 인터랙션
**3-1. 좋아요 (Like)**
- 게시글에 좋아요 표시
- 좋아요한 게시글은 프로필에서 재확인 가능
- 실시간 좋아요 수 업데이트 (Optimistic Update)

**3-2. 댓글 (Comment)**
- 게시글에 댓글 작성, 수정, 삭제
- 작성자 프로필 연동
- 실시간 댓글 수 표시

**기술 구현**
- TanStack Query의 Optimistic Updates로 즉각적인 피드백
- 낙관적 업데이트 실패 시 자동 롤백

### 4. 피드 & 무한 스크롤
**기능 설명**
- 전체 공개 게시글 피드
- 스크롤 시 자동으로 다음 페이지 로드
- 최신순 정렬

**기술 구현**
- Cursor-based pagination (성능 최적화)
- Intersection Observer API
- 페이지당 10개 게시글

**사용자 혜택**
- 끊김 없는 브라우징 경험
- 빠른 로딩 속도

### 5. 사용자 프로필
**기능 설명**
- 사용자별 프로필 페이지
- 작성한 게시글 목록 (공개 글만 타인에게 노출)
- 프로필 정보 (이름, 소개, 아바타)

**추가 정보**
- 총 게시글 수
- 좋아요한 게시글 목록

### 6. 신고 기능
**기능 설명**
- 부적절한 게시글 신고
- 신고 유형:
  - `spam`: 스팸/광고
  - `inappropriate`: 부적절한 콘텐츠
  - `harassment`: 괴롭힘
  - `other`: 기타

**기술 구현**
- 신고 시 사유 입력 (선택)
- 신고자 정보는 비공개 처리
- RLS로 본인 신고 내역만 조회 가능

### 7. 인증 시스템
**기능 설명**
- 이메일/비밀번호 회원가입 및 로그인
- OAuth 확장 가능 (Google, GitHub 등)
- 세션 관리 (쿠키 기반)

**기술 구현**
- Supabase Authentication
- HTTP-only 쿠키로 보안 강화
- Zustand로 클라이언트 상태 관리

---

## 🎯 주요 사용자 플로우

### 신규 사용자
```
1. 회원가입 (이메일/비밀번호)
   ↓
2. 프로필 설정 (필명, 소개)
   ↓
3. 첫 게시글 작성
   - 감정 레벨 선택
   - 내용 작성 (리치 텍스트)
   - 공개/비공개 설정
   ↓
4. 피드에서 다른 사람 글 구경
   ↓
5. 좋아요 & 댓글로 소통
```

### 일반 사용자 (Daily)
```
1. 로그인
   ↓
2. 피드 확인
   - 최신 게시글 탐색
   - 관심 있는 글에 좋아요/댓글
   ↓
3. 글 작성
   - 오늘의 감정 선택
   - 일상 기록
   ↓
4. 프로필에서 과거 글 확인
   - 감정 패턴 회고
```

---

## 🏗️ 기술 스택

### Frontend
- **프레임워크**: Next.js 16 (App Router)
- **UI 라이브러리**: React 19
- **스타일링**: TailwindCSS, shadcn/ui, Radix UI
- **에디터**: TipTap (리치 텍스트)
- **상태 관리**:
  - TanStack Query v5 (서버 상태)
  - Zustand (클라이언트 상태)
- **폼 관리**: React Hook Form + Zod
- **애니메이션**: Framer Motion

### Backend
- **데이터베이스**: PostgreSQL (Supabase)
- **ORM**: Drizzle ORM
- **인증**: Supabase Auth
- **서버**: Next.js Server Actions

### DevOps
- **패키지 매니저**: Bun
- **린터/포매터**: Biome
- **타입 체크**: TypeScript 5
- **버전 관리**: Git

### 아키텍처
- **Feature-Sliced Design (FSD)**
  - 명확한 레이어 분리
  - 확장성과 유지보수성 확보

---

## 📊 데이터베이스 스키마

### 주요 테이블

#### 1. profiles (사용자 프로필)
```sql
- id: UUID (PK, FK to auth.users)
- email: TEXT
- user_name: TEXT
- avatar_url: TEXT (optional)
- about_me: TEXT (optional)
- created_at: TIMESTAMP
- updated_at: TIMESTAMP
```

#### 2. articles (게시글)
```sql
- id: UUID (PK)
- user_id: UUID (FK to auth.users)
- title: TEXT
- content: TEXT
- emotion_level: INTEGER (1~5)
- access_type: ENUM ['public', 'private']
- created_at: TIMESTAMP
- updated_at: TIMESTAMP
```

#### 3. article_likes (좋아요)
```sql
- id: UUID
- article_id: UUID (FK to articles)
- user_id: UUID (FK to auth.users)
- created_at: TIMESTAMP
- PRIMARY KEY: (article_id, user_id)
```

#### 4. comments (댓글)
```sql
- id: UUID (PK)
- article_id: UUID (FK to articles, CASCADE DELETE)
- user_id: UUID (FK to auth.users)
- content: TEXT
- created_at: TIMESTAMP
- updated_at: TIMESTAMP
```

#### 5. reports (신고)
```sql
- id: UUID (PK)
- article_id: UUID (FK to articles)
- reporter_id: UUID (FK to auth.users)
- report_type: ENUM ['spam', 'inappropriate', 'harassment', 'other']
- reason: TEXT (optional)
- created_at: TIMESTAMP
```

---

## 🎨 UI/UX 특징

### 디자인 컨셉
- **미니멀하고 감성적인 디자인**
- 감정별 색상 구분으로 시각적 직관성
- 다크모드 지원 (next-themes)

### 주요 화면

#### 1. 홈 피드
- 사이드바: 프로필, 글쓰기 버튼
- 메인: 무한 스크롤 게시글 리스트
- 각 카드: 제목, 내용 미리보기, 감정 레벨, 좋아요/댓글 수

#### 2. 게시글 작성
- 감정 레벨 슬라이더 (시각적 표시)
- 리치 텍스트 에디터
- 공개/비공개 토글
- 실시간 글자 수 표시

#### 3. 게시글 상세
- 전체 내용 표시
- 좋아요 버튼 (Optimistic Update)
- 댓글 목록 및 작성 폼
- 작성자 프로필 링크
- 신고 버튼 (Context Menu)

#### 4. 프로필 페이지
- 사용자 정보
- 작성 게시글 목록
- 좋아요한 글 목록 (본인만)
- 통계 (총 게시글 수, 좋아요 수)

---

## 🚀 개발 로드맵

### Phase 1: MVP (현재 완료)
- ✅ 회원가입/로그인
- ✅ 게시글 CRUD
- ✅ 감정 레벨 선택
- ✅ 공개/비공개 설정
- ✅ 좋아요 기능
- ✅ 댓글 기능
- ✅ 무한 스크롤 피드
- ✅ 프로필 페이지
- ✅ 신고 기능

### Phase 2: 기능 강화 (향후 계획)
- ⬜ 감정 통계 대시보드
  - 주간/월간 감정 그래프
  - 감정별 게시글 통계
- ⬜ 검색 기능
  - 제목/내용 검색
  - 감정 레벨 필터
  - 태그 시스템
- ⬜ 알림 시스템
  - 댓글/좋아요 알림
  - 실시간 알림 (Supabase Realtime)
- ⬜ 소셜 기능 확장
  - 팔로우/팔로워
  - 피드 커스터마이징

### Phase 3: 고도화 (장기)
- ⬜ AI 감정 분석
  - 글 내용 기반 감정 추천
  - 감정 패턴 인사이트 제공
- ⬜ 감정 기반 추천
  - 비슷한 감정의 글 추천
  - 공감할 만한 사용자 추천
- ⬜ 모바일 앱
  - React Native 또는 PWA
- ⬜ 데이터 내보내기
  - PDF, Markdown 형식
  - 백업 기능

---

## 📈 성공 지표 (KPI)

### 사용자 지표
- DAU (Daily Active Users): 일일 활성 사용자
- MAU (Monthly Active Users): 월간 활성 사용자
- 사용자 유지율 (Retention Rate)

### 콘텐츠 지표
- 일일 게시글 작성 수
- 평균 댓글 수
- 평균 좋아요 수
- 공개 vs 비공개 게시글 비율

### 참여도 지표
- 평균 세션 시간
- 게시글당 조회 수
- 댓글/좋아요 참여율

---

## 💡 차별화 포인트

### 1. 감정 중심 설계
- 단순히 글을 쓰는 것이 아니라 "감정 상태를 기록"하는 것에 초점
- 감정 레벨 시각화로 자기 성찰 도구로 활용 가능

### 2. 기술적 우수성
- Next.js 16의 최신 기능 활용 (Server Actions, Streaming)
- TanStack Query로 최적화된 데이터 페칭
- Optimistic Updates로 즉각적인 사용자 경험
- Feature-Sliced Design으로 확장 가능한 아키텍처

### 3. 프라이버시 존중
- 공개/비공개 선택으로 사용자 통제권 부여
- Row Level Security로 데이터베이스 레벨 보안
- 익명성 보장 (닉네임 사용)

### 4. 진정성 있는 소통
- 감정을 솔직하게 표현하는 문화
- 화려함보다는 진솔함을 추구
- 공감과 위로 중심의 커뮤니티

---

## 🎯 비즈니스 모델 (향후)

### 무료 서비스
- 기본 기능 모두 무료 제공
- 광고 없는 경험

### 프리미엄 (선택)
- 감정 분석 리포트 (AI 기반)
- 무제한 이미지 업로드
- 커스텀 테마
- 우선 지원

### 파트너십
- 심리 상담 서비스 연계
- 감정 관리 앱과 통합

---

## 🔒 보안 및 정책

### 데이터 보안
- Supabase의 엔터프라이즈급 보안
- Row Level Security (RLS) 정책
- HTTP-only 쿠키로 세션 관리
- HTTPS 강제

### 콘텐츠 정책
- 신고 시스템으로 부적절한 콘텐츠 필터링
- 커뮤니티 가이드라인 준수
- 스팸/악성 사용자 차단

### 개인정보 보호
- 최소한의 개인정보 수집
- GDPR 준수 (데이터 삭제 요청 가능)
- 투명한 데이터 사용 정책

---

## 📞 팀 구성 (권장)

### 현재 개발 상황
- 풀스택 개발: 1인 (완료)

### 향후 확장 시
- **프론트엔드 개발자** 1명: UI/UX 개선
- **백엔드 개발자** 1명: API 최적화, 확장
- **디자이너** 1명: 브랜딩, 디자인 시스템
- **커뮤니티 매니저** 1명: 사용자 피드백, 운영

---

## 📝 결론

OneLog는 **감정을 중심으로 일상을 기록하고 공유하는 새로운 형태의 소셜 블로그 플랫폼**입니다.

### 핵심 가치
1. **진정성**: 화려함보다 솔직함
2. **자기 성찰**: 감정 패턴 인식과 성장
3. **공감**: 비슷한 감정을 나누는 사람들과의 연결
4. **프라이버시**: 사용자가 통제하는 공개 범위

### 기술적 강점
- 최신 기술 스택으로 빠르고 안정적인 서비스
- 확장 가능한 아키텍처로 지속적인 개선 가능
- 엔터프라이즈급 보안과 성능

### 향후 비전
감정을 기록하는 것에서 시작해, 사용자의 감정 건강을 돕는 **디지털 감정 일기 플랫폼**으로 성장

---

**작성일**: 2025-01-10
**버전**: 1.0
**작성자**: Claude Code